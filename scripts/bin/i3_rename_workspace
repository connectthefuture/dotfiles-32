#!/usr/bin/env python3
import i3
import sys
import subprocess

original = i3.filter(tree=i3.get_workspaces(), focused=True)[0]

p = subprocess.Popen('rofi -dmenu -i -p "name â†  "', stdin=subprocess.PIPE, stdout=subprocess.PIPE, shell=True)
new_name = p.communicate()[0].strip().decode('utf-8')

if len(new_name) > 0:
    cmd = 'rename workspace to "'+str(original['num'])+':'+str(new_name)+'"'
else:
    cmd = 'rename workspace to "'+str(original['num'])+'"'

i3.command(cmd)
