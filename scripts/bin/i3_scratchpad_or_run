#!/home/petr/.rvm/rubies/ruby-2.3.0/bin/ruby
require 'i3ipc'
require 'pry'

def get_nodes(tree)
  array = []
  array << get_nodes(tree.nodes)
  array << get_nodes(tree.floating_nodes)
  array << tree
  array
end

i3 = I3Ipc::Connection.new
begin
  nodes = get_nodes(i3.tree)
  binding.pry
ensure
  i3.close
end
